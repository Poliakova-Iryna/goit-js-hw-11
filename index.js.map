{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"46090964-55e0ede1337bbc868df4332a0\";\n\nexport function fetchImg(searchQuery = '') {\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`)\n       .then(response => {\n        if(!response.ok) {\n            throw new Error('Sorry. there are no images matching your  search query Please try again!')\n        }\n\n        return response.json();\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function createMarkup(hits, gallery) {\n    const markup = hits.map(hit => \n     `<li class=\"gallery-item\">\n           <a class=\"gallery-link\" href=\"\">\n            <img \n             class=\"gallery-image\" \n             src=\"\" \n             alt=\"\" \n             />\n           </a>\n     <div class=\"card-description\">\n      <div class=\"field\">\n        <span class=\"span-name\">Likes</span>\n        <span class=\"span-value\">${hit.likes}</span>\n      </div>\n      <div class=\"field\"></div>\n        <span class=\"span-name\">Views</span>\n        <span class=\"span-value\">${hit.views}</span>\n      </div>\n      <div class=\"field\"></div>\n        <span class=\"span-name\">Comments</span>\n        <span class=\"span-value\">${hit.comments}</span>\n      </div>\n      <div class=\"field\"></div>\n        <span class=\"span-name\">Downloads</span>\n        <span class=\"span-value\">${hit.downloads}</span>\n      </div>\n    </div>\n   </li>`).join('');\n \n   refs.gallery.insertAdjacentHTML('beforeend', markup);\n   const lightbox = new SimpleLightbox('.gallery a');\n   lightbox.refresh();\n   \n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchImg } from './js/pixabay-api';\nimport { createMarkup } from \"./js/render-functions\";\n\nconst refs = {\n    form: document.querySelector('.form'),\n    cardContainer: document.querySelector('.card-container'),\n    dallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const { query } = form.elements;\n\n    if(!query.value.trim()) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term',\n            position: 'topRight'\n        });\n        return\n    }\n\n    refs.loader.classList.remove('hidden');\n\n    fetchImg(query.value.trim())\n      .then(data => {\n        refs.loader.classList.add('hidden');\n        if(data.hits.length === 0) {\n            iziToast.warning({\n                title: 'Warning',\n                message: error.message,\n                position: 'topRight'\n            });\n            return\n        }\n\n        createMarkup(data.hits, refs.gallery);\n        form.reset();\n    })\n    .catch(error => {\n        refs.loader.classList.add('hidden');\n        iziToast.error({\n            title: 'Error',\n            message: error.message,\n            position: 'topRight'\n        });\n    });\n}"],"names":["BASE_URL","API_KEY","fetchImg","searchQuery","response","createMarkup","hits","gallery","markup","hit","SimpleLightbox","refs","onFormSubmit","event","form","query","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAASC,EAAc,GAAI,CACvC,OAAO,MAAM,GAAGH,CAAQ,QAAQC,CAAO,MAAME,CAAW,0DAA0D,EAC9G,KAAKC,GAAY,CACjB,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAM,0EAA0E,EAG9F,OAAOA,EAAS,MACxB,CAAK,CACL,CCTO,SAASC,EAAaC,EAAMC,EAAS,CACxC,MAAMC,EAASF,EAAK,IAAIG,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAW8BA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,mCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,SAGvC,EAAE,KAAK,EAAE,EAEf,KAAK,QAAQ,mBAAmB,YAAaD,CAAM,EAClC,IAAIE,EAAe,YAAY,EACvC,QAAO,CAEnB,CChCA,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,OAAO,EACpC,cAAe,SAAS,cAAc,iBAAiB,EACvD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACb,CAAE,MAAAE,CAAK,EAAKD,EAAK,SAEvB,GAAG,CAACC,EAAM,MAAM,OAAQ,CACpBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDL,EAAK,OAAO,UAAU,OAAO,QAAQ,EAErCT,EAASa,EAAM,MAAM,MAAM,EACxB,KAAKE,GAAQ,CAEZ,GADAN,EAAK,OAAO,UAAU,IAAI,QAAQ,EAC/BM,EAAK,KAAK,SAAW,EAAG,CACvBD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,MAAM,QACf,SAAU,UAC1B,CAAa,EACD,MACH,CAEDX,EAAaY,EAAK,IAAkB,EACpCH,EAAK,MAAK,CAClB,CAAK,EACA,MAAMI,GAAS,CACZP,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCK,EAAS,MAAM,CACX,MAAO,QACP,QAASE,EAAM,QACf,SAAU,UACtB,CAAS,CACT,CAAK,CACL"}